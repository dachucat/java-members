<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="course.linkflower.link.oneframework.members.dao.TopicMapper">
    <select id="getTopicById" resultType="course.linkflower.link.oneframework.members.vo.topic.TopicVo">
        select * from topic where id=#{id}
    </select>

    <insert id="add" parameterType="course.linkflower.link.oneframework.members.model.Topic" useGeneratedKeys="true" keyProperty="id">
        insert into topic(name, parent_id, parent1_id, column_type, is_hot, icon, sort_value)
        values(#{name},#{parentId},#{parent1Id},#{columnType},#{isHot},#{icon},#{sortValue})
    </insert>

    <delete id="deleteById">
        delete from topic where id=#{id}
    </delete>

    <update id="update" parameterType="course.linkflower.link.oneframework.members.dto.topic.UpdateDto" useGeneratedKeys="true" keyProperty="id">
        update topic where id=#{id} set name=#{name}, parent_id=#{parentId}, column_type=#{columnType}, is_hot=#{isHot},icon=#{icon}, sort_value=#{sortValue}
    </update>
</mapper>